{"version":3,"sources":["index.js"],"names":["InputArea","props","state","value","onChange","bind","e","this","setState","target","className","cols","rows","React","Component","SearchButton","onClick","disabled","Search","inputText","searchButtonText","searchButtonDisabled","App","result","innerHTML","split","forEach","title","search","preventDefault","fetch","then","res","json","item","items","author","volumeInfo","authors","pop","category","categories","error","handleClick","Result","ResultTextArea","defaultValue","ReactDOM","render","document","getElementById"],"mappings":"oOAOMA,E,YACF,WAAYC,GAAQ,IAAD,8BACf,4CAAMA,KACDC,MAAQ,CAACC,MAAO,EAAKF,MAAME,OAChC,EAAKC,SAAW,EAAKA,SAASC,KAAd,gBAHD,E,sEAMVC,GACLC,KAAKC,SAAS,CAAEL,MAAOG,EAAEG,OAAON,U,+BAIhC,OACI,0BAAMO,UAAU,yBACZ,yBAAKA,UAAU,kBACX,8BACIP,MAAOI,KAAKL,MAAMC,MAClBC,SAAUG,KAAKH,SACfM,UAAU,cACVC,KAAK,KAAKC,KAAK,a,GAnBfC,IAAMC,WA2BxBC,E,iLAEE,OACI,4BAAQC,QAAST,KAAKN,MAAMe,QAAQT,MAAOU,SAAUV,KAAKN,MAAMgB,UAC3DV,KAAKN,MAAME,W,GAJDU,IAAMC,WAU3BI,E,iLAEE,OACI,6BACI,wDACA,kBAAClB,EAAD,CAAWG,MAAOI,KAAKN,MAAMkB,YAC7B,kBAACJ,EAAD,CACIZ,MAAOI,KAAKN,MAAMmB,iBAClBH,SAAUV,KAAKN,MAAMoB,qBACrBL,QAAST,KAAKN,MAAMe,e,GATnBH,IAAMC,WAgBrBQ,E,YACF,WAAYrB,GAAQ,IAAD,8BACf,4CAAMA,KACDC,MAAQ,CACTiB,UAAW,uHACXC,iBA7DuB,eA8DvBC,sBAAuB,EACvBE,OAAQ,IANG,E,yEAUPjB,GAAI,IAAD,OACPc,EApEuB,iBAoEJd,EAAEG,OAAOe,UAnEL,wBADA,eAsE3BjB,KAAKC,SAAS,CACVY,iBAAkBA,EAClBC,sBAAuBf,EAAEG,OAAOQ,WAEvBV,KAAKL,MAAMiB,UAAUM,MAAM,MACjCC,SAAQ,SAAAC,GAAK,OAAI,EAAKC,OAAOD,MACpCrB,EAAEuB,mB,6BAGCF,GAAQ,IAAD,OACVG,MAAM,iDAAmDH,GACxDI,MAAK,SAAAC,GAAG,OAAIA,EAAIC,UAChBF,MACG,SAACE,GACG,IAAIC,EAAOD,EAAKE,MAAM,GAClBC,EAASF,EAAKG,WAAWC,QAAQC,MACjCC,EAAWN,EAAKG,WAAWI,WAAWF,MACtChB,EAASI,EAAQ,KAAOS,EAAS,KAAOI,EAAW,KAEvD,EAAKhC,SAAS,CACVY,iBA1Fe,eA2FfC,sBAAsB,EACtBE,OAAQ,EAAKrB,MAAMqB,OAASA,OAGpC,SAACmB,GACG,EAAKlC,SAAS,CACVY,iBAjGe,eAkGfC,sBAAsB,S,+BAM5B,IAAD,OACL,OACI,6BACI,kBAACH,EAAD,CACIC,UAAWZ,KAAKL,MAAMiB,UACtBC,iBAAkBb,KAAKL,MAAMkB,iBAC7BC,qBAAsBd,KAAKL,MAAMmB,qBACjCL,QAAS,kBAAM,EAAK2B,YAAYtC,KAAK,MAEzC,6BACA,kBAACuC,EAAD,CAAQrB,OAAQhB,KAAKL,MAAMqB,c,GA1DzBV,IAAMC,WAgElB8B,E,iLAEE,OACI,6BACI,4CACA,kBAACC,EAAD,CAAgB1C,MAAOI,KAAKN,MAAMsB,c,GAL7BV,IAAMC,WAWrB+B,E,iLAEE,OACI,0BAAMnC,UAAU,yBACZ,yBAAKA,UAAU,kBACX,8BACIoC,aAAcvC,KAAKN,MAAME,MACzBO,UAAU,cACVC,KAAK,KAAKC,KAAK,a,GARVC,IAAMC,WAgBnCiC,IAASC,OACL,kBAAC1B,EAAD,MACA2B,SAASC,eAAe,U","file":"static/js/main.976a8dfe.chunk.js","sourcesContent":["import './index.css';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\n\nconst SEARCH_BUTTON_TEXT_DEFAULT = '検索';\nconst SEARCH_BUTTON_TEXT_RUNNING = '検索中...';\n\nclass InputArea extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {value: this.props.value}\n        this.onChange = this.onChange.bind(this)\n    }\n\n    onChange(e) {\n        this.setState({ value: e.target.value });\n    }\n\n    render() {\n        return (\n            <form className=\"uk-grid-small uk-grid\">\n                <div className=\"uk-width-1-2@s\">\n                    <textarea\n                        value={this.state.value}\n                        onChange={this.onChange}\n                        className=\"uk-textarea\"\n                        cols=\"10\" rows=\"15\">\n                    </textarea>\n                </div>\n            </form>\n        );\n    }\n}\n\nclass SearchButton extends React.Component {\n    render() {\n        return (\n            <button onClick={this.props.onClick(this)} disabled={this.props.disabled}>\n                {this.props.value}\n            </button>\n        );\n    }\n}\n\nclass Search extends React.Component {\n    render() {\n        return (\n            <div>\n                <h1>著者検索</h1>\n                <InputArea value={this.props.inputText} />\n                <SearchButton\n                    value={this.props.searchButtonText}\n                    disabled={this.props.searchButtonDisabled}\n                    onClick={this.props.onClick}\n                />\n            </div>\n        );\n    }\n}\n\nclass App extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            inputText: '実験思考\\n結局人生はアウトプットで決まる',\n            searchButtonText: SEARCH_BUTTON_TEXT_DEFAULT,\n            searchButtonDisabled : false,\n            result: '',\n        };\n    }\n\n    handleClick(e) {\n        let searchButtonText = e.target.innerHTML === SEARCH_BUTTON_TEXT_DEFAULT ?\n            SEARCH_BUTTON_TEXT_RUNNING : SEARCH_BUTTON_TEXT_DEFAULT;\n        this.setState({\n            searchButtonText: searchButtonText,\n            searchButtonDisabled: !e.target.disabled\n        });\n        let titles = this.state.inputText.split('\\n');\n        titles.forEach(title => this.search(title));\n        e.preventDefault();\n    }\n\n    search(title) {\n        fetch('https://www.googleapis.com/books/v1/volumes?q=' + title)\n        .then(res => res.json())\n        .then(\n            (json) => {\n                let item = json.items[0];\n                let author = item.volumeInfo.authors.pop();\n                let category = item.volumeInfo.categories.pop();\n                let result = title + '\\t' + author + '\\t' + category + '\\n';\n\n                this.setState({\n                    searchButtonText: SEARCH_BUTTON_TEXT_DEFAULT,\n                    searchButtonDisabled: false,\n                    result: this.state.result + result,\n                });\n            },\n            (error) => {\n                this.setState({\n                    searchButtonText: SEARCH_BUTTON_TEXT_DEFAULT,\n                    searchButtonDisabled: false\n                });\n            }\n        )\n    }\n\n    render() {\n        return (\n            <div>\n                <Search\n                    inputText={this.state.inputText}\n                    searchButtonText={this.state.searchButtonText}\n                    searchButtonDisabled={this.state.searchButtonDisabled}\n                    onClick={() => this.handleClick.bind(this)}\n                />\n                <hr />\n                <Result result={this.state.result}/>\n            </div>\n        );\n    }\n}\n\nclass Result extends React.Component {\n    render() {\n        return (\n            <div>\n                <h1>結果</h1>\n                <ResultTextArea value={this.props.result} />\n            </div>\n        );\n    }\n}\n\nclass ResultTextArea extends React.Component {\n    render() {\n        return(\n            <form className=\"uk-grid-small uk-grid\">\n                <div className=\"uk-width-1-2@s\">\n                    <textarea\n                        defaultValue={this.props.value}\n                        className=\"uk-textarea\"\n                        cols=\"10\" rows=\"15\">\n                    </textarea>\n                </div>\n            </form>\n        );\n    }\n}\n\nReactDOM.render(\n    <App />,\n    document.getElementById('root')\n);\n"],"sourceRoot":""}