{"version":3,"sources":["index.js"],"names":["Container","styled","div","Hr","hr","Title","h1","Textarea","textarea","Button","button","props","primary","css","circleAnimate","keyframes","Circle","li","Circles","circles","Array","map","_","i","key","Search","value","this","inputText","onChange","onClick","disabled","searchButtonDisabled","searchButtonText","React","Component","App","state","result","e","target","setState","split","filter","v","forEach","title","search","preventDefault","fetch","then","res","json","items","item","volumeInfo","authors","pop","categories","jsonToResult","error","onChangeInputArea","bind","handleClick","Result","textArea","createRef","current","select","document","execCommand","focus","defaultValue","ref","cols","rows","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.b313b451.chunk.js","sourcesContent":["import React from 'react';\nimport ReactDOM from 'react-dom';\nimport styled, { css, keyframes } from 'styled-components'\n\nconst SEARCH_BUTTON_TEXT_DEFAULT = '検索';\nconst SEARCH_BUTTON_TEXT_RUNNING = '検索中...';\nconst MESSAGE_NOT_FOUND = '取得できませんでした';\n\nconst Container = styled.div`\n    text-align: center;\n    background: #4e54c8;\n    background: -webkit-linear-gradient(to left, #8f94fb, #4e54c8);\n    width: 100vw;\n    height:100vh;\n`;\n\nconst Hr = styled.hr`\n    height: 20px;\n    border-style: solid;\n    border-color: black;\n    border-width: 1px 0 0 0;\n    border-radius: 200px;\n\n    &::before {\n        display: block;\n        content: \"\";\n        height: 20px;\n        margin-top: -20px;\n        border-style: solid;\n        border-color: black;\n        border-width: 0 0 1px 0;\n        border-radius: 100px;\n    }\n`;\n\nconst Title = styled.h1`\n    font-size: 5.5em;\n    text-align: center;\n    color: palevioletred;\n`;\n\nconst Textarea = styled.textarea`\n    font-size: 1em;\n    border: 1px solid gray;\n    border-radius: 3px;\n    width: 1000px;\n    height: 400px;\n    max-width: 80%;\n`;\n\nconst Button = styled.button`\n    background: transparent;\n    border-radius: 3px;\n    border: 2px solid palevioletred;\n    color: palevioletred;\n    margin: 0.5em 1em;\n    padding: 0.25em 1em;\n    font-size: 30px;\n\n    ${props => props.primary && css`\n      background: palevioletred;\n      color: white;\n    `}\n`;\n\nconst circleAnimate = keyframes`\n    from {\n        transform: translateY(0) rotate(0deg);\n        opacity: 1;\n        border-radius: 0;\n    }\n    to {\n        transform: translateY(-1500px) rotate(720deg);\n        opacity: 0;\n        border-radius: 50%;\n    }\n`;\n\nconst Circle = styled.li`\n    position: absolute;\n    display: block;\n    list-style: none;\n    width: 20px;\n    height: 20px;\n    background: rgba(255, 255, 255, 0.2);\n    animation: ${circleAnimate} 25s linear infinite;\n    bottom: -150px;\n\n    &:nth-child(1){\n        left: 25%;\n        width: 80px;\n        height: 80px;\n        animation-delay: 0s;\n    }\n\n    &:nth-child(2){\n        left: 10%;\n        width: 20px;\n        height: 20px;\n        animation-delay: 2s;\n        animation-duration: 12s;\n    }\n\n    &:nth-child(3){\n        left: 70%;\n        width: 20px;\n        height: 20px;\n        animation-delay: 4s;\n    }\n\n    &:nth-child(4){\n        left: 40%;\n        width: 60px;\n        height: 60px;\n        animation-delay: 0s;\n        animation-duration: 18s;\n    }\n\n    &:nth-child(5){\n        left: 65%;\n        width: 20px;\n        height: 20px;\n        animation-delay: 0s;\n    }\n\n    &:nth-child(6){\n        left: 75%;\n        width: 110px;\n        height: 110px;\n        animation-delay: 3s;\n    }\n\n    &:nth-child(7){\n        left: 35%;\n        width: 150px;\n        height: 150px;\n        animation-delay: 7s;\n    }\n\n    &:nth-child(8){\n        left: 50%;\n        width: 25px;\n        height: 25px;\n        animation-delay: 15s;\n        animation-duration: 45s;\n    }\n\n    &:nth-child(9){\n        left: 20%;\n        width: 15px;\n        height: 15px;\n        animation-delay: 2s;\n        animation-duration: 35s;\n    }\n\n    &:nth-child(10){\n        left: 85%;\n        width: 150px;\n        height: 150px;\n        animation-delay: 0s;\n        animation-duration: 11s;\n    }\n`;\n\n\nfunction jsonToResult(json) {\n    let item = json.items[0];\n    let author = item.volumeInfo.authors ? item.volumeInfo.authors.pop() : MESSAGE_NOT_FOUND;\n    let category = item.volumeInfo.categories ? item.volumeInfo.categories.pop() : MESSAGE_NOT_FOUND;\n    return '\\t' + author + '\\t' + category + '\\n';\n}\n\nfunction Circles() {\n    const circles = [...Array(10)].map((_,i) => <Circle key={i}></Circle>);\n    return(\n        <ul>\n            {circles}\n        </ul>\n    );\n\n}\n\nclass Search extends React.Component {\n    render() {\n        return (\n            <div>\n                <Title>著者検索</Title>\n                <form>\n                    <div>\n                        <Textarea\n                            value={this.props.inputText}\n                            onChange={this.props.onChange(this)}>\n                        </Textarea>\n                    </div>\n                </form>\n                <Button primary onClick={this.props.onClick(this)} disabled={this.props.searchButtonDisabled}>\n                    {this.props.searchButtonText}\n                </Button>\n            </div>\n        );\n    }\n}\n\nclass App extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            inputText: '実験思考\\n結局人生はアウトプットで決まる',\n            searchButtonText: SEARCH_BUTTON_TEXT_DEFAULT,\n            searchButtonDisabled : false,\n            result: '',\n        };\n    }\n\n    onChangeInputArea(e) {\n        let inputText = e.target.value;\n        this.setState({\n            inputText: inputText,\n            searchButtonDisabled: inputText === '' ? true : false,\n        });\n    }\n\n    handleClick(e) {\n        this.setState({\n            searchButtonText: SEARCH_BUTTON_TEXT_RUNNING,\n            searchButtonDisabled: !e.target.disabled,\n            result: '',\n        });\n        // 改行区切りで配列化し、空文字要素を削除\n        let titles = this.state.inputText.split('\\n').filter(v => v);\n        titles.forEach(title => this.search(title));\n        e.preventDefault();\n    }\n\n    search(title) {\n        fetch('https://www.googleapis.com/books/v1/volumes?q=' + title)\n        .then(res => res.json())\n        .then(\n            (json) => {\n                if(!json.items) {\n                    this.setState({\n                        searchButtonText: SEARCH_BUTTON_TEXT_DEFAULT,\n                        searchButtonDisabled: false,\n                        result: title + '\\t' + MESSAGE_NOT_FOUND + '\\t' + MESSAGE_NOT_FOUND + '\\n',\n                    });\n                    return;\n                }\n                let result = title + jsonToResult(json);\n                this.setState({\n                    searchButtonText: SEARCH_BUTTON_TEXT_DEFAULT,\n                    searchButtonDisabled: false,\n                    result: this.state.result + result,\n                });\n            },\n            (error) => {\n                this.setState({\n                    searchButtonText: SEARCH_BUTTON_TEXT_DEFAULT,\n                    searchButtonDisabled: false,\n                    result: 'リクエストに失敗しました',\n                });\n            }\n        )\n    }\n\n    render() {\n        return (\n            <Container>\n                <Search\n                    inputText={this.state.inputText}\n                    onChange={() => this.onChangeInputArea.bind(this)}\n                    searchButtonText={this.state.searchButtonText}\n                    searchButtonDisabled={this.state.searchButtonDisabled}\n                    onClick={() => this.handleClick.bind(this)}\n                />\n                <Circles />\n                <Hr />\n                <Result result={this.state.result}/>\n            </Container>\n        );\n    }\n}\n\nclass Result extends React.Component {\n    constructor(props) {\n        super(props);\n        this.textArea = React.createRef();\n    }\n\n    onClick() {\n        this.textArea.current.select();\n        document.execCommand('copy');\n        this.textArea.current.focus();\n    }\n\n    render() {\n        return (\n            <div>\n                <Title>結果</Title>\n                <form>\n                    <div>\n                        <Textarea\n                            defaultValue={this.props.result}\n                            ref={this.textArea}\n                            cols=\"100\" rows=\"15\">\n                        </Textarea>\n                    </div>\n                </form>\n                <Button onClick={this.onClick.bind(this)}>結果をコピー</Button>\n            </div>\n        );\n    }\n}\n\nReactDOM.render(\n    <App />,\n    document.getElementById('root')\n);\n"],"sourceRoot":""}